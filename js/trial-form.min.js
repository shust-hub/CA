jQuery(document).ready(function(a){let isValidEmail=function(d){var f=d.trim();var e=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);var b=e.test(f);return(b)};a("#pb_students_num").change(function(){let cnt=a(this).val()*1;if(!cnt){a(this).val("1")}let blocks=a("#studentBlock .well");if(cnt>blocks.length){for(let c=blocks.length+1;c<=cnt;c++){let nb=a(blocks[0]).clone();nb.find("input, select").val("");nb.appendTo(a("#studentBlock"))}}if(cnt<blocks.length){for(let c=cnt;c<blocks.length;c++){a(blocks[c]).remove()}}});if(typeof localStorage.trial!=="undefined"){let parentData=JSON.parse(localStorage.getItem("trial"));a.each(parentData,function(b,d){a("#"+b).val(d)})}a("#newOrderForm").submit(function(b){b.preventDefault();let er="";let frm=a(this);a(frm).find("input:required:not(:disabled), select:required:not(:disabled)").each(function(){if(this.value.length<1){er="Please fill in all required fields!"}});if(!isValidEmail(a(frm).find('input[name="email"]').val())){er="Please check your email address"}if(er){Swal.fire("Required fields!",er,"error")}else{if(typeof localStorage.trial=="undefined"){localStorage.setItem("trial",JSON.stringify([]))}let parentFields=["pb_firstname","pb_lastname","pb_cellphone","pb_email","pb_country","pb_city"];let parentData={};parentFields.forEach(function(d){parentData[d]=a("#"+d).val()});localStorage.setItem("trial",JSON.stringify(parentData));a('<div class="loading">').appendTo(a("#registrationTrialBlock"));a.ajax({type:"post",url:"/trial-registration",dataType:"json",data:a(frm).serialize(),success:function(d){a(".loading").remove();if(d.error){Swal.fire("",d.error,"error")}else{a("#step1").hide();a("#step2").show();location.href="#trialSchedule"}}})}});a(".section-register").click(function(b){b.preventDefault();var d=a(this).data("id");a(".program-id").val(d);let frm=a("#newOrderForm");a('<div class="loading">').appendTo(a("#registrationTrialBlock"));a.ajax({type:"post",url:"/checkout-proceed",dataType:"html",data:a(frm).serialize(),success:function(e){a(".registration-info-block").remove();a("#registrationTrialBlock").html(e);a("#payform_proceed").submit()}})})});